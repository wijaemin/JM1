<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript실습</title>
    <!-- css파일을 불러오는 코드 -->

    <!--icon을 사용하기 위한 Font Awesome 6 CDN-->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <!--구글 웹폰트 사용을 위한 CDN-->

    <!-- 내가 만든 CSS파일 -->
    <link rel="stylesheet" type="text/css" href="./css/reset.css">
    <link rel="stylesheet" type="text/css" href="./css/commons.css">
    <link rel="stylesheet" type="text/css" href="./css/test.css">
    <style>

    </style>
    <!-- javascript 작성 공간 -->

    <script>

        function checkBoardTitle(){
            var input=document.querySelector("[name=boardTitle]");

            var isValid=input.value.length>0 && input.value.length <=100;
            input.classList.remove("fail");
            if(isValid==false){
                input.classList.add("fail");
                return false;
            }
                return true;
        }
        function checkBoardContent(){
            var textarea=document.querySelector("[name=boardContent]")
            var isValid=textarea.value.length>0 && textarea.value.length<=1000;
            var len=document.querySelector(".len");
            len.textContent=textarea.value.length;
            textarea.classList.remove("fail");
            len.classList.remove("red");
            if(isValid==false){
                textarea.classList.add("fail");
                len.classList.add("red");
                return false;
            }
            return true;
        }
        function checkForm(){
            var rl= checkBoardTitle();
            var r2= checkBoardContent();
            return r1 && r2;
        }
    </script>

</head>
<body>
    <div class="container w-400">

        <div class="row">
            <h2>게시글 작성</h2>
        </div>
        
        <form autocomplete="off" onsubmit="return checkForm();">
            <div class="row left">
                <label>
                    제목
                    <span class="important">*</span>
                </label>
                <input type="text" name="boardTitle" class="form-input w-100" 
                        onblur="checkBoardTitle();"> 
                <div class="fail-feedback">제목은 필수이며 100자 이내로 작성해야 합니다</div>
            </div>

            <div class="row left">
                <label>
                    내용
                    <span class="important">*</span>
                </label>
                <textarea name="boardContent" class="form-input w-100" rows="10"
                            oninput="checkBoardContent();"></textarea>
                <div class="fail-feedback">뭐라도 좀 쓰세요</div>               
            </div>

            <div class="row right">
                <span class="len">0</span>/1000
            </div>

            <div class="row">
                <button type="submit" class="btn btn-positive w-100">
                    작성하기
                </button>
            </div>

        </form>
        




    </div>

</body>
</html>